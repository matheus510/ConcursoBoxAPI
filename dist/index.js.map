{"version":3,"sources":["../src/index.js"],"names":["app","server","http","createServer","use","exposedHeaders","config","corsHeaders","bodyParser","json","urlencoded","routes","listen","process","env","PORT","port","console","log","address"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIA,MAAM,wBAAV;;AAEAA,IAAIC,MAAJ,GAAaC,eAAKC,YAAL,CAAkBH,GAAlB,CAAb;AACA;AACA;AACAA,IAAII,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAEA;AACAJ,IAAII,GAAJ,CAAQ,oBAAK;AACZC,iBAAgBC,iBAAOC;AADX,CAAL,CAAR;;AAIAP,IAAII,GAAJ,CAAQI,qBAAWC,IAAX,EAAR;AACAT,IAAII,GAAJ,CAAQI,qBAAWE,UAAX,EAAR;AACA;AACA;;;;;;AAMAV,IAAII,GAAJ,CAAQ,MAAR,EAAgBO,eAAhB;;AAEAX,IAAIC,MAAJ,CAAWW,MAAX,CAAkBC,QAAQC,GAAR,CAAYC,IAAZ,IAAoBT,iBAAOU,IAA7C,EAAmD,YAAM;AACxDC,SAAQC,GAAR,YAAqBlB,IAAIC,MAAJ,CAAWkB,OAAX,GAAqBH,IAA1C;AACA,CAFD;;kBAIehB,G","file":"index.js","sourcesContent":["import http from 'http'\nimport express from 'express'\nimport cors from 'cors'\nimport morgan from 'morgan'\nimport bodyParser from 'body-parser'\nimport routes from './api/routes/index'\nimport config from './config.json'\nimport dbInit from './db/index'\n\nlet app = express()\n\napp.server = http.createServer(app)\ndbInit()\n// logger\napp.use(morgan('dev'))\n\n// 3rd party middleware\napp.use(cors({\n\texposedHeaders: config.corsHeaders\n}))\n\napp.use(bodyParser.json())\napp.use(bodyParser.urlencoded())\n//auth middleware\n/* app.use(function (req, res, next) {\n\tif (req.headers && req.headers.authorization && req.headers.authorization.split('\t')[0] === 'JWT') {\n\t\tjwt.verify(req.headers.authorization.split('\t')[1])\n\t}\n}) */\n\napp.use('/api', routes)\n\napp.server.listen(process.env.PORT || config.port, () => {\n\tconsole.log(`porta ${app.server.address().port}`)\n})\n\nexport default app\n"]}